{% load static %}
{% load static %}
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Training Page</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
  <link href="https://vjs.zencdn.net/7.15.4/video-js.css" rel="stylesheet" />
	<script src="https://vjs.zencdn.net/7.15.4/video.js"></script>
 
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap');

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Poppins', sans-serif;
			background-color: aliceblue;
		}

		/* Navigation bar */

		nav {
			background-color: rgb(238, 155, 0);
			display: flex;
			justify-content: flex-end;
			align-items: center;
			padding: 10px;
			position: fixed;
			top: 0;
			width: 100%;
			z-index: 1;
		}

		nav a {
			color: #fff;
			text-decoration: none;
			padding: 10px;
		}

		/* Sidebar */

		.sidebar {
			background-color: rgb(57, 62, 70);
			height: 100%;
			position: fixed;
			left: 0;
			top: 0;
			width: 250px;
			padding: 20px;
			overflow: auto;
			color: #fff;
			z-index: 1;
		}

		.sidebar h2 {
			margin-bottom: 20px;
		}

		.sidebar a {
			color: #fff;
			text-decoration: none;
			padding: 10px;
			display: block;
			margin-bottom: 10px;
			border-radius: 5px;
			transition: background-color 0.3s ease;
		}

		.sidebar a:hover {
			background-color: rgb(238, 155, 0);
		}
    .sidebar a.active {
			background-color: rgb(238, 155, 0);
			color: #fff;
		  }
    #take-test a {
      color: #fff;
      text-decoration: none;
    }
		/* Main content */

        .main-content {
            margin-top: 10px;
            margin-left: 250px;
            padding: 50px;
        }
        #course-description {
          
          
          margin-bottom: 20px;
        }
    
        /* Style for the button that starts the video */
#start-video {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 16px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
.course-info {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  margin: 20px 0;
  font-size: 18px;
}

/* Style for the disabled button that appears after the video is completed */
#completed-button {
  background-color: grey;
  border: none;
  color: white;
  padding: 16px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: not-allowed;
  opacity: 0.5;
}

/* Style for the enabled button that appears after the video is completed */
#enabled-button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 16px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
#my-video {
    width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
}

#take-test button {
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin-top: 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

#take-test:hover {
    background-color: #3e8e41;
}
  #status{
    color : orange;
    font-size: 24px;
  }
  #comp{
    color : orange;
    font-size: 24px;
  }
  .btn1 {
    display: inline-block;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    color: #fff;
    background-color: #4CAF50;
    border: none;
    border-radius: 6px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.26);
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .btn1:hover {
    background-color: #3e8e41;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  }
  


		/* Footer */

		footer {
			background-color: rgb(238, 1550);
            display: flex;
            justify-content: center;
            align-items: center;
		padding: 20px;
		position: fixed;
		bottom: 0;
		width: 100%;
	}

	footer p {
		color: #fff;
		font-size: 14px;
		text-align: center;
		margin: 5px;
	}

</style>
</head>
<body>


<!-- Sidebar -->


<!-- Main content -->
<!-- Main content -->
<div class="main-content">
  <h1>Introduction to Python</h1>
  <div id="course-description">
    <p>Welcome to our Introduction to Python course!</p>
    <p>In this course, you will learn the fundamentals of programming with Python. We will start by teaching you the basics of Python syntax and how to write simple programs using variables, data types, and conditional statements.</p>
    <p>Then, we will cover more advanced topics such as functions, loops, and object-oriented programming. You will also learn how to use Python to manipulate data, read and write files, and create graphical user interfaces (GUIs).</p>
    <p>Throughout the course, you will work on hands-on programming projects that will give you real-world experience with Python. You will also have access to resources like online Python editors, debuggers, and documentation to help you develop your programming skills.</p>
    <p>By the end of the course, you will have a solid understanding of how to write Python programs and the confidence to tackle more complex programming challenges.</p>
  </div>
  <div class="container">
    <section class="video-list">
      <h1 class="video-list__title">Video List</h1>
      {% for video in videos %}
      <article class="video-item">
        <h2 class="video-item__title">{{ video.title }}</h2>
        <div class="video-item__player-wrapper">
          <video class="video-item__player" width="320" height="240" controls>
            <source src="{{ video.video_file.url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </article>
      {% endfor %}
    </section>
    <div class="course-info">
      <span class="label">Course Name:</span>
      <span class="value" id="course-duration">Introduction to Python</span>
    </div>
    <div class="course-info">
      <span class="label">Duration:</span>
      <span class="value" id="course-status" >10 minutes</span>
    </div>
    <div class="course-info">
      <span class="label">Status:</span>
      
      
  
      <span class="value status" id="status">Not started</span>
    
    </div>
    <div class="button-wrapper">
      <button id="launch-course" class="btn btn-primary">Launch Course</button>
      <button id="take-test" class="btn btn-secondary" ><a href="">Take Test</a></button>
    </div>
    <div class="course-info">
      <span class="label">Score:</span>
      <span class="value status">%</span>
    </div>
    
    <div class="course-info">
      {% if  enable_certificate %}
    <button id="generate-certificate-button" class="btn1" >Generate Certificate</button>
    <span class="value status" id="comp">Congratulations! You have passed the course and earned a certificate.</span>
    {% else %}
    <button id="generate-certificate-button" class="btn1" disabled>Generate Certificate</button>
    <p>Your score is not high enough to generate a certificate.</p>
    {% endif %}
   </div>
  </div>
</div>


<!-- Footer section here -->

<script>
  // Retrieve the percentageScore value from the cookie
  const cookies = document.cookie.split(';');
  let percentageScore = null;
  for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.startsWith('percentageScore=')) {
          percentageScore = parseFloat(cookie.substring('percentageScore='.length));
          break;
      }
  }
  
  // If the percentageScore value is equal to or greater than 80%, show the button
  if (percentageScore != null && percentageScore >= 80) {
      document.getElementById('generate-certificate-button').style.display = 'block';
  }
  
  // Add an event listener to the button to redirect to the certificate page
  
  </script>

  <script>
    var videoPlayer = videojs('my-video-player');
    var launchCourseButton = document.getElementById('launch-course');
    var takeTestButton = document.getElementById('take-test');
    var statusElement = document.getElementById('status');
    var certificateElement = document.getElementById('certificate');
  
    launchCourseButton.addEventListener('click', function() {
      videoPlayer.play();
      statusElement.innerHTML = 'In progress';
      statusElement.classList.remove('completed');
      
    });
  
    videoPlayer.on('ended', function() {
      takeTestButton.disabled = false;
       // Add href attribute
      statusElement.innerHTML = 'Completed';
      statusElement.classList.add('completed');
      
      
    });
  
    takeTestButton.addEventListener('click', function() {
      // Logic for taking the test goes here
    });
    
  </script>
  

 
 </body>  
</html>
           

           
